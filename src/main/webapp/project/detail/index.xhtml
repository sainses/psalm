
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/WEB-INF/template/template.xhtml" 
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

    <ui:define name="content">        
        <f:metadata>
            <f:viewParam name="project" value="#{taskView.selectedProject}" 
                         converter="#{projectConverter}" required="#{not facesContext.postback}" requiredMessage="The project is either invalid or missing"/>
            <f:viewAction action="#{taskView.initTasks()}" />
        </f:metadata>

        <p:outputPanel id="reportResults">
            <div class="Container100">
                <div class="ContainerIndent">
                    <div class="Card TexAlCenter">                 
                        <h2>Tasks</h2>  
                        #{param}
                        <!--<span class="gray">Use this page to start from scratch and place your custom content.</span>-->
                        <p:dataTable value="#{taskView.tasks}" var="task"   emptyMessage="No tasks found">
                            <p:column headerText="WBS" sortBy="#{task.work}">
                                <h:outputText value="#{task.work}"/>
                            </p:column>
                            <p:column headerText="Description" sortBy="#{task.description}">
                                <h:outputText value="#{task.description}"/>
                            </p:column>
                            <p:column headerText="Duration" sortBy="#{task.duration}">
                                <h:outputText value="#{task.duration}"/>
                            </p:column>
                            <p:column headerText="End Date" sortBy="#{task.endDate}">
                                <h:outputText value="#{task.endDate}"/>
                            </p:column>
                            <p:column headerText="Start Date" sortBy="#{task.startDate}">
                                <h:outputText value="#{task.startDate}"/>
                            </p:column>
                            <p:column headerText="Type" sortBy="#{task.type}">
                                <h:outputText value="#{task.type}"/>
                            </p:column>
                            <p:column headerText="Work" sortBy="#{task.work}">
                                <h:outputText value="#{task.work}"/>
                            </p:column>
                        </p:dataTable>                    
                    </div>
                </div>
            </div>                 
        </p:outputPanel>      
    </ui:define>       
</ui:composition>